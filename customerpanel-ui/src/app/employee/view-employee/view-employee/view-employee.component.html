<div class="page-header">
  <div class="container">
    <h1>{{ header }} {{ employee.name }}</h1>
  </div>
</div>

<div class="container">
  <div class="row top-row">
    <div class="col-xs-12 row end-xs mt-1">
      <a [routerLink]="['/employee']" color="primary" mat-raised-button>
        <mat-icon>chevron_left</mat-icon>
        Geri Don
      </a>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-6">
      <!-- musteri bilgiler -->
      <form #employeeDetailsForm="ngForm">
        <div class="row">
          <div class="col-xs-6">
            <mat-form-field appearance="outline">
              <mat-label>Isim</mat-label>
              <input
                type="text"
                matInput
                [(ngModel)]="employee.name"
                required
                name="name"
              />
              <mat-error>Lutfen isimi doldurunuz</mat-error>
            </mat-form-field>
          </div>

          <div class="col-xs-6">
            <mat-form-field appearance="outline">
              <mat-label>Soyad</mat-label>
              <input
                type="text"
                matInput
                [(ngModel)]="employee.lastName"
                name="lastName"
                required
              />
              <mat-error>Lutfen Soyadi Doldurunuz</mat-error>
            </mat-form-field>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-6">
            <mat-form-field appearance="outline">
              <mat-label>E mail</mat-label>
              <input
                type="email"
                pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                matInput
                [(ngModel)]="employee.email"
                required
                name="email"
                required
              />
              <mat-error> E-mail dogru giriniz </mat-error>
            </mat-form-field>
          </div>
          <div class="col-xs-6">
            <mat-form-field appearance="outline">
              <mat-label>Telefon Numarasi</mat-label>
              <input
                type="text"
                pattern="[5][0-9]{9}"
                matInput
                [(ngModel)]="employee.phoneNumber"
                name="phoneNumber"
              />
              <mat-error>5 ile baslamali 9digit olmali</mat-error>
            </mat-form-field>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12">
            <mat-form-field appearance="outline">
              <mat-label>Calistigi Musteri</mat-label>
              <mat-select [(ngModel)]="employee.customerId" name="customer">
                <mat-option
                  *ngFor="let customer of customerList"
                  [value]="customer.id"
                >
                  {{ customer.name }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>

        <div class="row">
          <!-- Existing employee -->
          <div class="col-xs-12">
            <div class="row ml-1" *ngIf="!isNewEmployee">
              <button mat-raised-button color="primary" (click)="onUpdate()">
                Guncelle
              </button>
              <button mat-raised-button color="warn" (click)="onDelete()">
                Sil
              </button>
            </div>
            <!-- New employee -->
            <div class="row between-xs" *ngIf="isNewEmployee">
              <button mat-raised-button color="primary" (click)="onAdd()">
                Yeni Ekle
              </button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
